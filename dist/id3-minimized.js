(function(){var _1={readUTF16String:function(_2,_3,_4){var ix=0;var _5=1,_6=0;_4=Math.min(_4||_2.length,_2.length);if(_2[0]==254&&_2[1]==255){_3=true;ix=2;}else{if(_2[0]==255&&_2[1]==254){_3=false;ix=2;}}if(_3){_5=0;_6=1;}var _7=[];for(var j=0;ix<_4;j++){var _8=_2[ix+_5];var _9=_2[ix+_6];var _a=(_8<<8)+_9;ix+=2;if(_a==0){break;}else{if(_8<216||_8>=224){_7[j]=String.fromCharCode(_a);}else{var _b=_2[ix+_5];var _c=_2[ix+_6];var _d=(_b<<8)+_c;ix+=2;_7[j]=String.fromCharCode(_a,_d);}}}var _e=new String(_7.join(""));_e.bytesReadCount=ix;return _e;},readUTF8String:function(_f,_10){var ix=0;_10=Math.min(_10||_f.length,_f.length);if(_f[0]==239&&_f[1]==187&&_f[2]==191){ix=3;}var arr=[];for(var j=0;ix<_10;j++){var _11=_f[ix++];if(_11==0){break;}else{if(_11<128){arr[j]=String.fromCharCode(_11);}else{if(_11>=194&&_11<224){var _12=_f[ix++];arr[j]=String.fromCharCode(((_11&31)<<6)+(_12&63));}else{if(_11>=224&&_11<240){var _12=_f[ix++];var _13=_f[ix++];arr[j]=String.fromCharCode(((_11&255)<<12)+((_12&63)<<6)+(_13&63));}else{if(_11>=240&&_11<245){var _12=_f[ix++];var _13=_f[ix++];var _14=_f[ix++];var _15=((_11&7)<<18)+((_12&63)<<12)+((_13&63)<<6)+(_14&63)-65536;arr[j]=String.fromCharCode((_15>>10)+55296,(_15&1023)+56320);}}}}}}var _16=new String(arr.join(""));_16.bytesReadCount=ix;return _16;},readNullTerminatedString:function(_17,_18){var arr=[];_18=_18||_17.length;for(var i=0;i<_18;){var _19=_17[i++];if(_19==0){break;}arr[i-1]=String.fromCharCode(_19);}var _1a=new String(arr.join(""));_1a.bytesReadCount=i;return _1a;}};var _1b={version:"ID3v1",_genres:["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","AlternRock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychadelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk-Rock","National Folk","Swing","Fast Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","Acapella","Euro-House","Dance Hall"],loadData:function(_1c,_1d){var _1e=_1c.getLength();_1c.loadRange([_1e-128-1,_1e],_1d);},readTagsFromData:function(_1f,_20){var _21={version:"1.1"},_22=_1f.getLength()-128;if(_22<0){return _21;}if(!_20||_20.title){_21.title=_1f.getStringAt(_22+3,30).replace(/\0/g,"");}if(!_20||_20.artist){_21.artist=_1f.getStringAt(_22+33,30).replace(/\0/g,"");}if(!_20||_20.album){_21.album=_1f.getStringAt(_22+63,30).replace(/\0/g,"");}if(!_20||_20.year){_21.year=_1f.getStringAt(_22+93,4).replace(/\0/g,"");}if(!_20||_20.track||track.comment){_21.year=_1f.getStringAt(_22+93,4).replace(/\0/g,"");var _23=_1f.getByteAt(_22+97+28);if(_23==0){if(!_20||_20.track){_21.comment=data.getStringAt(_22+97,28).replace(/\0/g,"");}if(!_20||_20.track){_21.track=data.getByteAt(_22+97+29);}}else{_21.comment="";_21.track=0;}}if(!_20||_20.genre){var _24=data.getByteAt(_22+97+30);if(_24<255){_21.genre=this._genres[_24];}else{_21.genre="";}}return _21;}};var _25={version:"ID3v2",_shortcuts:{title:["TIT2","TT2"],artist:["TPE1","TP1"],album:["TALB","TAL"],year:["TYER","TYE"],comment:["COMM","COM"],track:["TRCK","TRK"],genre:["TCON","TCO"],picture:["APIC","PIC"],lyrics:["USLT","ULT"]},_readFrameData:{_pictureType:["32x32 pixels 'file icon' (PNG only)","Other file icon","Cover (front)","Cover (back)","Leaflet page","Media (e.g. lable side of CD)","Lead artist/lead performer/soloist","Artist/performer","Conductor","Band/Orchestra","Composer","Lyricist/text writer","Recording Location","During recording","During performance","Movie/video screen capture","A bright coloured fish","Illustration","Band/artist logotype","Publisher/Studio logotype"],_getTextEncoding:function(_26){var _27;switch(_26){case 0:return "iso-8859-1";case 1:return "utf-16";case 2:return "utf-16be";case 3:return "utf-8";}return null;},APIC:function(_28,_29,_2a,_2b,v){v=v||"3";var _2c=_28,_2d=this._getTextEncoding(_2a.getByteAt(_28)),_2e=null;switch(v){case "2":_2e=_2a.getStringAt(_28+1,3);_28+=4;break;case "3":case "4":_2e=_2a.getStringWithCharsetAt(_28+1,_29-(_28-_2c),_2d);_28+=1+_2e.bytesReadCount;break;}var _2f=_2a.getByteAt(_28,1);var _30=this._pictureType[_2f];var _31=_2a.getStringWithCharsetAt(_28+1,_29-(_28-_2c),_2d);_28+=1+_31.bytesReadCount;return {"format":_2e.toString(),"type":_30,"description":_31.toString(),"data":_2a.getBytesAt(_28,(_2c+_29)-_28)};},PIC:function(_32,_33,_34,_35){return this.APIC(_32,_33,_34,_35,"2");},COMM:function(_36,_37,_38){var _39=_36;var _3a=this._getTextEncoding(_38.getByteAt(_36));var _3b=_38.getStringAt(_36+1,3);var _3c=_38.getStringWithCharsetAt(_36+4,_37-4,_3a);_36+=4+_3c.bytesReadCount;var _3d=_38.getStringWithCharsetAt(_36,(_39+_37)-_36,_3a);return {language:_3b,short_description:_3c.toString(),text:_3d.toString()};},COM:function(_3e,_3f,_40){return this.COMM(_3e,_3f,_40);},T:function(_41,_42,_43){var _44=this._getTextEncoding(_43.getByteAt(_41));return _43.getStringWithCharsetAt(_41+1,_42-1,_44).toString();},TCON:function(_45,_46,_47){var _48=this.T.apply(this,arguments);return _48.replace(/^\(\d+\)/,"");},TCO:function(_49,_4a,_4b){return this.TCON(_49,_4a,_4b);},USLT:function(_4c,_4d,_4e){var _4f=_4c;var _50=this._getTextEncoding(_4e.getByteAt(_4c));var _51=_4e.getStringAt(_4c+1,3);var _52=_4e.getStringWithCharsetAt(_4c+4,_4d-4,_50);_4c+=4+_52.bytesReadCount;var _53=_4e.getStringWithCharsetAt(_4c,(_4f+_4d)-_4c,_50);return {language:_51,descriptor:_52.toString(),lyrics:_53.toString()};},ULT:function(_54,_55,_56){return this.USLT(_54,_55,_56);}},_getTagsFromShortcuts:function(_57){var _58={};for(var c in _57){if(_57.hasOwnProperty(c)&&this._shortcuts[c]){for(var j=0;j<this._shortcuts[c].length;j++){if(this._shortcuts[c][j]){_58[this._shortcuts[c][j]]=1;}}}else{if(_57.hasOwnProperty(c)){_58[c]=1;}}}return _58;},_readSynchsafeInteger32At:function(_59,_5a){var _5b=_5a.getByteAt(_59);var _5c=_5a.getByteAt(_59+1);var _5d=_5a.getByteAt(_59+2);var _5e=_5a.getByteAt(_59+3);return _5e&127|((_5d&127)<<7)|((_5c&127)<<14)|((_5b&127)<<21);},_readFrameFlags:function(_5f,_60){return {message:{tag_alter_preservation:_5f.isBitSetAt(_60,6),file_alter_preservation:_5f.isBitSetAt(_60,5),read_only:_5f.isBitSetAt(_60,4)},format:{grouping_identity:_5f.isBitSetAt(_60+1,7),compression:_5f.isBitSetAt(_60+1,3),encription:_5f.isBitSetAt(_60+1,2),unsynchronisation:_5f.isBitSetAt(_60+1,1),data_length_indicator:_5f.isBitSetAt(_60+1,0)}};},_readFrames:function(_61,end,_62,_63,_64){var _65={};var _66;var _67=_63["major"];_64=this._getTagsFromShortcuts(_64||{title:1,artist:1,album:1,track:1,year:1,genre:1});while(_61<end){var _68=null,_69=_61,_6a=null,_6b,_6c,_6d;switch(_67){case 2:_6b=_62.getStringAt(_69,3);_6c=_62.getInteger24At(_69+3,true);_6d=6;break;case 3:_6b=_62.getStringAt(_69,4);_6c=_62.getLongAt(_69+4,true);_6d=10;break;case 4:_6b=_62.getStringAt(_69,4);_6c=this._readSynchsafeInteger32At(_69+4,_62);_6d=10;break;}if(!_6b||_6b==""){break;}_61+=_6d+_6c;if(!_64[_6b]){continue;}if(_67>2){_6a=this._readFrameFlags(_62,_69+8);}_69+=_6d;if(_6a&&_6a.format.data_length_indicator){_66=this._readSynchsafeInteger32At(_69,_62);_69+=4;_6c-=4;}if(_6a&&_6a.format.unsynchronisation){continue;}if(this._readFrameData[_6b]){_68=this._readFrameData[_6b];}else{if(this._readFrameData[_6b[0]]){_68=this._readFrameData[_6b[0]];}}var _6e=null;if(_68){_6e=_68.call(this._readFrameData,_69,_6c,_62,_6a);}_65[_6b]={id:_6b,size:_6c,data:_6e};}return _65;},loadData:function(_6f,_70){var f=this._readSynchsafeInteger32At;_6f.loadRange([0,9],function(){_6f.loadRange([0,f(6,_6f)],_70);});},readTagsFromData:function(_71,_72){var _73=0,_74=_71.getByteAt(_73+3);if(_74>4){return {version:"2."+_74};}var _75=_71.getByteAt(_73+4),_76=_71.isBitSetAt(_73+5,7),_77=_71.isBitSetAt(_73+5,6),_78=_71.isBitSetAt(_73+5,5),_79=this._readSynchsafeInteger32At(_73+6,_71);_73+=10;if(_77){var _7a=_71.getLongAt(_73,true);_73+=_7a+4;}var id3={version:"2."+_74+"."+_75,major:_74,revision:_75,flags:{unsynchronisation:_76,extended_header:_77,experimental_indicator:_78},size:_79},_7b=_76?{}:this._readFrames(_73,_79-10,_71,id3,_72),_7c={version:"2."+_74};for(var _7d in this._shortcuts){if(this._shortcuts.hasOwnProperty(_7d)&&(!_72||_72[_7d])){var ids=this._shortcuts[_7d];for(var i=0,l=ids.length;i<l;i++){if(ids[i]&&_7b[ids[i]]){_7c[_7d]=_7b[ids[i]].data;break;}}}}return _7c;}};var _7e=function(_7f,_80){var _81=_80||"",_82=_7f.size||_80.length,_83=_80?[0,_80.length]:[0,-1];this.getRawData=function(){return _81;};this.getByteAt=function(_84){return _81.charCodeAt(_84)&255;};this.getBytesAt=function(_85,_86){var _87=new Array(_86);for(var i=0;i<_86;i++){_87[i]=this.getByteAt(_85+i);}return _87;};this.getLength=function(){return _82;};this.isBitSetAt=function(_88,_89){var _8a=this.getByteAt(_88);return (_8a&(1<<_89))!=0;};this.getSByteAt=function(_8b){var _8c=this.getByteAt(_8b);if(_8c>127){return _8c-256;}else{return _8c;}};this.getShortAt=function(_8d,_8e){var _8f=_8e?(this.getByteAt(_8d)<<8)+this.getByteAt(_8d+1):(this.getByteAt(_8d+1)<<8)+this.getByteAt(_8d);if(_8f<0){_8f+=65536;}return _8f;};this.getSShortAt=function(_90,_91){var _92=this.getShortAt(_90,_91);if(_92>32767){return _92-65536;}else{return _92;}};this.getLongAt=function(_93,_94){var _95=this.getByteAt(_93),_96=this.getByteAt(_93+1),_97=this.getByteAt(_93+2),_98=this.getByteAt(_93+3);var _99=_94?(((((_95<<8)+_96)<<8)+_97)<<8)+_98:(((((_98<<8)+_97)<<8)+_96)<<8)+_95;if(_99<0){_99+=4294967296;}return _99;};this.getSLongAt=function(_9a,_9b){var _9c=this.getLongAt(_9a,_9b);if(_9c>2147483647){return _9c-4294967296;}else{return _9c;}};this.getInteger24At=function(_9d,_9e){var _9f=this.getByteAt(_9d),_a0=this.getByteAt(_9d+1),_a1=this.getByteAt(_9d+2);var _a2=_9e?((((_9f<<8)+_a0)<<8)+_a1):((((_a1<<8)+_a0)<<8)+_9f);if(_a2<0){_a2+=16777216;}return _a2;};this.getStringAt=function(_a3,_a4){var _a5=[];for(var i=_a3,j=0;i<_a3+_a4;i++,j++){_a5[j]=String.fromCharCode(this.getByteAt(i));}return _a5.join("");};this.getStringWithCharsetAt=function(_a6,_a7,_a8){var _a9=this.getBytesAt(_a6,_a7);var _aa;switch(_a8.toLowerCase()){case "utf-16":case "utf-16le":case "utf-16be":_aa=_1.readUTF16String(_a9,_a8);break;case "utf-8":_aa=_1.readUTF8String(_a9);break;default:_aa=_1.readNullTerminatedString(_a9);break;}return _aa;};this.getCharAt=function(_ab){return String.fromCharCode(this.getByteAt(_ab));};this.loadRange=function(_ac,_ad){if(!window.FileReader){return;}var _ae=new FileReader();if(_ac){if(_ac.length==1){_ac=[0,_ac[1]];}if(_83[0]<=_ac[0]||_83[1]>=_ac[0]){if(_83[1]>=_ac[1]){if(_ad){_ad();}return;}}}if(typeof (_ae.onloadend)!="undefined"){_ae.onloadend=function(e){if(e.target.readyState==FileReader.DONE){_81=e.target.result;_83=[_ac[0],_ac[0]+_81.length];if(_ad){_ad();}_ae=null;}};}if(typeof (_ae.onerror)!="undefined"){_ae.onerror=function(evt){};}var _af=_7f;if(_ac&&_ac.length==2){if(_7f.webkitSlice){_af=_7f.webkitSlice(_ac[0],_ac[1]);}else{if(_7f.mozSlice){_af=_7f.mozSlice(_ac[0],_ac[1]);}}}else{_ac=[0,_7f.length];}_ae.readAsBinaryString(_af);};};window.ID3={loadTags:function(_b0){var _b1=_b0.dataReader||new _7e(_b0.file,_b0.stringData);_b1.loadRange([0,9],function(){var _b2=null,_b3=_b1.getStringAt(0,3);if(_b3=="TAG"){_b2=_1b;}else{if(_b3=="ID3"){_b2=_25;}else{console.error("invalid identifier: ",_b3);if(_b0.error){_b0.error([]);}return;}}var _b4=function(){_b2.loadData(_b1,function(){var _b5=_b2.readTagsFromData(_b1,_b0.tags);if(_b0.success){_b0.success(_b5);}});};if(_b0.load){_b0.load(_b1,_b2);setTimeout(_b4,0);return;}_b4();});}};})();